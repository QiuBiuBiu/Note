# Inline function

## 内联函数

## 内联函数和宏函数的区别?
1. 宏定义不是函数，但是使用起来像函数。预处理器用复制宏代码的方式代替函数的调用，省去了函数压栈退栈过程，提高了效率；而内联函数本质上是一个函数，内联函数一般用于函数体的代码比较简单的函数，不能包含复杂的控制语句，while、switch，并且内联函数本身不能直接调用自身。
2. 宏函数是在预编译的时候把所有的宏名用宏体来替换，简单的说就是字符串替换 ；而内联函数则是在编译的时候进行代码插入，编译器会在每处调用内联函数的地方直接把内联函数的内容展开，这样可以省去函数的调用的开销，提高效率
3. 宏定义是没有类型检查的，无论对还是错都是直接替换；而内联函数在编译的时候会进行类型的检查，内联函数满足函数的性质，比如有返回值、参数列表等
```c++
    //宏定义示例
    #define MAX(a, b) ((a)>(b)?(a):(b))
    MAX(a, "Hello"); //错误地比较int和字符串，没有参数类型检查

    //内联函数示例
    #include <stdio.h>
    inline int add(int a, int b) {
        return (a + b);
    }
    int main(void) {
        int a;
        a = add(1, 2);
        printf("a+b=%d\n", a);
        return 0;
    }
    //以上a = add(1, 2);处在编译时将被展开为：a = (a + b);
```